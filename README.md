# listenBilibili

使用B站作为音源的听歌工具。  
A tool for listening music, use Bilibili source.

## 使用

> 参考`build.ps1`

推荐环境：（项目开发期间使用以下环境运行）

1. node：18
2. go：1.21
3. 浏览器：chrome

使用步骤：

1. 前端：下载依赖，构建代码
2. 生成后端可执行程序(.exe程序)
3. 启动exe程序，在windows系统中会自动打开网页，程序运行日志将同步记录在命令行和`log.log`文件
4. 如果无法自动播放，请在浏览器设置中授权
    1. chrome浏览器允许使用js控制播放声音：设置-隐私和安全-网站设置-（更多内容设置）声音-添加网址`127.0.0.1`

以上为软件解决方案，如果你想要在远离电脑的地方使用本程序（例如电脑在书房，而你想要在厨房一边洗碗一边听歌），请自行购买蓝牙音箱、蓝牙适配器等。

## todo

1. 编写http请求go、ts数据结构统一工具：实现根据go数据结构生成ts代码的工具。
    1. 使用grpc protocol buffer文件类型生成的go代码，难以应对**字段是数组**的情况，  
       因为工具生成的go数组使用指针形式（形如`List *[]Playlist`)，不能简单的使用json包反序列化
2. 实现操作歌单功能
3. 前端引入eslint、prettier
4. 代码优化
5. 前端查看歌单，选择播放、随机播放
6. 调整为不自动播放第一首，这样方便开发
